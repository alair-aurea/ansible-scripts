- hosts: '{{ HOSTS }}'
  name: Auto-generated Playbook for windows-teste
  tasks:
  - debug: msg="Selected OS -> {{ ansible_distribution }}; Major version -> {{ ansible_distribution_major_version}}"
    name: Print Host OS
  - include_tasks: ../prepared-tasks/windows-pre-task.yml
    name: Execute preparation tasks
  - name: Install OS pre-selected packages
    win_chocolatey:
      name: '{{ item }}'
      state: present
    with_items:
    - visualstudio2017enterprise
    - vscode
    - sql-server-management-studio
    - fiddler
    - dottrace
    - googlechrome
    - sysinternals
  - name: Install OS additional packages
    win_chocolatey:
      name: '{{ item }}'
      state: present
    with_items:
    - notepadplusplus
  - include_tasks: ../prepared-tasks/windows-post-task.yml
    name: Execute post-installation tasks
