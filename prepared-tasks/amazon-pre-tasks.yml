---

  - name: Adding EPEL repo
    yum:
      name: https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
      state: present

  - name: Add Apache Maven repo
    get_url:
      url: http://repos.fedorapeople.org/repos/dchen/apache-maven/epel-apache-maven.repo
      dest: /etc/yum.repos.d/epel-apache-maven.repo
  
  - name: Update maven repo data
    replace:
      path: /etc/yum.repos.d/epel-apache-maven.repo
      regexp: '\$releasever'
      replace: '7'
      backup: yes
  
  - name: Installing http-parser which is required by nodejs
    yum:
      name: https://kojipkgs.fedoraproject.org//packages/http-parser/2.7.1/3.el7/x86_64/http-parser-2.7.1-3.el7.x86_64.rpm
      state: present
    
